import{j as c}from"./jsx-runtime-DF2Pcvd1.js";import{r as d}from"./index-B2-qRKKC.js";import{c as me}from"./index-BdQq_4o_.js";import{u as N}from"./index-BFjtS4uE.js";import{c as Ee}from"./index-Az_bokXk.js";import{u as Ve}from"./index-BlCrtW8-.js";import{u as Me}from"./index-D6fdIYSQ.js";import{u as Ie}from"./index-_AbP6Uzr.js";import{u as Ae}from"./index-BYfY0yFj.js";import{P as A}from"./index-Bnp5pWmS.js";import{c as Te}from"./index-DQ4YbFVl.js";import{c as Be}from"./utils-CytzSlOG.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-D1vk04JX.js";import"./index-CFX93qP1.js";function C(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var fe=["PageUp","PageDown"],pe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],he={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},E="Slider",[Y,Ke,ke]=Te(E),[Se]=Ee(E,[ke]),[Le,z]=Se(E),ge=d.forwardRef((e,t)=>{const{name:r,min:o=0,max:s=100,step:l=1,orientation:n="horizontal",disabled:a=!1,minStepsBetweenThumbs:u=0,defaultValue:S=[o],value:g,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:b=!1,form:y,...x}=e,p=d.useRef(new Set),f=d.useRef(0),w=n==="horizontal"?ze:Oe,[h=[],V]=Ve({prop:g,defaultProp:S,onChange:v=>{var j;(j=[...p.current][f.current])==null||j.focus(),i(v)}}),U=d.useRef(h);function F(v){const R=$e(h,v);M(v,R)}function Ce(v){M(v,f.current)}function Ne(){const v=U.current[f.current];h[f.current]!==v&&m(h)}function M(v,R,{commit:j}={commit:!1}){const G=qe(l),W=Je(Math.round((v-o)/l)*l+o,G),I=me(W,[o,s]);V((_=[])=>{const P=We(_,I,R);if(Ge(P,u*l)){f.current=P.indexOf(I);const q=String(P)!==String(_);return q&&j&&m(P),q?P:_}else return _})}return c.jsx(Le,{scope:e.__scopeSlider,name:r,disabled:a,min:o,max:s,valueIndexToChangeRef:f,thumbs:p.current,values:h,orientation:n,form:y,children:c.jsx(Y.Provider,{scope:e.__scopeSlider,children:c.jsx(Y.Slot,{scope:e.__scopeSlider,children:c.jsx(w,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:C(x.onPointerDown,()=>{a||(U.current=h)}),min:o,max:s,inverted:b,onSlideStart:a?void 0:F,onSlideMove:a?void 0:Ce,onSlideEnd:a?void 0:Ne,onHomeKeyDown:()=>!a&&M(o,0,{commit:!0}),onEndKeyDown:()=>!a&&M(s,h.length-1,{commit:!0}),onStepKeyDown:({event:v,direction:R})=>{if(!a){const W=fe.includes(v.key)||v.shiftKey&&pe.includes(v.key)?10:1,I=f.current,_=h[I],P=l*W*R;M(_+P,I,{commit:!0})}}})})})})});ge.displayName=E;var[xe,be]=Se(E,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ze=d.forwardRef((e,t)=>{const{min:r,max:o,dir:s,inverted:l,onSlideStart:n,onSlideMove:a,onSlideEnd:u,onStepKeyDown:S,...g}=e,[i,m]=d.useState(null),b=N(t,w=>m(w)),y=d.useRef(void 0),x=Me(s),p=x==="ltr",f=p&&!l||!p&&l;function D(w){const h=y.current||i.getBoundingClientRect(),V=[0,h.width],F=X(V,f?[r,o]:[o,r]);return y.current=h,F(w-h.left)}return c.jsx(xe,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:c.jsx(we,{dir:x,"data-orientation":"horizontal",...g,ref:b,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:w=>{const h=D(w.clientX);n==null||n(h)},onSlideMove:w=>{const h=D(w.clientX);a==null||a(h)},onSlideEnd:()=>{y.current=void 0,u==null||u()},onStepKeyDown:w=>{const V=he[f?"from-left":"from-right"].includes(w.key);S==null||S({event:w,direction:V?-1:1})}})})}),Oe=d.forwardRef((e,t)=>{const{min:r,max:o,inverted:s,onSlideStart:l,onSlideMove:n,onSlideEnd:a,onStepKeyDown:u,...S}=e,g=d.useRef(null),i=N(t,g),m=d.useRef(void 0),b=!s;function y(x){const p=m.current||g.current.getBoundingClientRect(),f=[0,p.height],w=X(f,b?[o,r]:[r,o]);return m.current=p,w(x-p.top)}return c.jsx(xe,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:c.jsx(we,{"data-orientation":"vertical",...S,ref:i,style:{...S.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const p=y(x.clientY);l==null||l(p)},onSlideMove:x=>{const p=y(x.clientY);n==null||n(p)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:x=>{const f=he[b?"from-bottom":"from-top"].includes(x.key);u==null||u({event:x,direction:f?-1:1})}})})}),we=d.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:o,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:n,onEndKeyDown:a,onStepKeyDown:u,...S}=e,g=z(E,r);return c.jsx(A.span,{...S,ref:t,onKeyDown:C(e.onKeyDown,i=>{i.key==="Home"?(n(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):fe.concat(pe).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:C(e.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),g.thumbs.has(m)?m.focus():o(i)}),onPointerMove:C(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:C(e.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),l(i))})})}),ve="SliderTrack",ye=d.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=z(ve,r);return c.jsx(A.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...o,ref:t})});ye.displayName=ve;var $="SliderRange",Re=d.forwardRef((e,t)=>{const{__scopeSlider:r,...o}=e,s=z($,r),l=be($,r),n=d.useRef(null),a=N(t,n),u=s.values.length,S=s.values.map(m=>je(m,s.min,s.max)),g=u>1?Math.min(...S):0,i=100-Math.max(...S);return c.jsx(A.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:a,style:{...e.style,[l.startEdge]:g+"%",[l.endEdge]:i+"%"}})});Re.displayName=$;var H="SliderThumb",Pe=d.forwardRef((e,t)=>{const r=Ke(e.__scopeSlider),[o,s]=d.useState(null),l=N(t,a=>s(a)),n=d.useMemo(()=>o?r().findIndex(a=>a.ref.current===o):-1,[r,o]);return c.jsx(Ue,{...e,ref:l,index:n})}),Ue=d.forwardRef((e,t)=>{const{__scopeSlider:r,index:o,name:s,...l}=e,n=z(H,r),a=be(H,r),[u,S]=d.useState(null),g=N(t,D=>S(D)),i=u?n.form||!!u.closest("form"):!0,m=Ae(u),b=n.values[o],y=b===void 0?0:je(b,n.min,n.max),x=Ye(o,n.values.length),p=m==null?void 0:m[a.size],f=p?He(p,y,a.direction):0;return d.useEffect(()=>{if(u)return n.thumbs.add(u),()=>{n.thumbs.delete(u)}},[u,n.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${f}px)`},children:[c.jsx(Y.ItemSlot,{scope:e.__scopeSlider,children:c.jsx(A.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":n.min,"aria-valuenow":b,"aria-valuemax":n.max,"aria-orientation":n.orientation,"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,tabIndex:n.disabled?void 0:0,...l,ref:g,style:b===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{n.valueIndexToChangeRef.current=o})})}),i&&c.jsx(De,{name:s??(n.name?n.name+(n.values.length>1?"[]":""):void 0),form:n.form,value:b},o)]})});Pe.displayName=H;var Fe="RadioBubbleInput",De=d.forwardRef(({__scopeSlider:e,value:t,...r},o)=>{const s=d.useRef(null),l=N(s,o),n=Ie(t);return d.useEffect(()=>{const a=s.current;if(!a)return;const u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"value").set;if(n!==t&&g){const i=new Event("input",{bubbles:!0});g.call(a,t),a.dispatchEvent(i)}},[n,t]),c.jsx(A.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});De.displayName=Fe;function We(e=[],t,r){const o=[...e];return o[r]=t,o.sort((s,l)=>s-l)}function je(e,t,r){const l=100/(r-t)*(e-t);return me(l,[0,100])}function Ye(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function $e(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),o=Math.min(...r);return r.indexOf(o)}function He(e,t,r){const o=e/2,l=X([0,50],[0,o]);return(o-l(t)*r)*r}function Xe(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Ge(e,t){if(t>0){const r=Xe(e);return Math.min(...r)>=t}return!0}function X(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function qe(e){return(String(e).split(".")[1]||"").length}function Je(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var _e=ge,Qe=ye,Ze=Re,et=Pe;const O=d.forwardRef(({className:e,defaultValue:t,value:r,...o},s)=>{const l=(r==null?void 0:r.length)??(t==null?void 0:t.length)??1;return c.jsxs(_e,{ref:s,defaultValue:t,value:r,className:Be("relative flex w-full touch-none select-none items-center",e),...o,children:[c.jsx(Qe,{className:"relative h-2 w-full grow overflow-hidden border border-primary bg-background",children:c.jsx(Ze,{className:"absolute h-full bg-primary"})}),Array.from({length:l}).map((n,a)=>c.jsx(et,{className:"block h-5 w-3 border-2 border-primary bg-primary transition-all focus-visible:outline-none hover:bg-background disabled:pointer-events-none disabled:opacity-50"},a))]})});O.displayName=_e.displayName;O.__docgenInfo={description:"",methods:[]};const gt={title:"Components/Slider",component:O,tags:["autodocs"],argTypes:{disabled:{control:"boolean"}}},T={args:{defaultValue:[50],max:100,step:1},decorators:[e=>c.jsx("div",{className:"w-80",children:c.jsx(e,{})})]},tt=()=>{const[e,t]=d.useState([50]);return c.jsxs("div",{className:"space-y-4 w-80",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-sm",children:"Volume"}),c.jsxs("span",{className:"text-sm",children:[e[0],"%"]})]}),c.jsx(O,{value:e,onValueChange:t,max:100,step:1})]})},B={render:()=>c.jsx(tt,{})},K={args:{defaultValue:[25,75],max:100,step:1},decorators:[e=>c.jsx("div",{className:"w-80",children:c.jsx(e,{})})]},k={args:{defaultValue:[50],max:100,step:1,disabled:!0},decorators:[e=>c.jsx("div",{className:"w-80",children:c.jsx(e,{})})]},L={args:{defaultValue:[50],max:100,step:10},decorators:[e=>c.jsx("div",{className:"w-80",children:c.jsx(e,{})})]};var J,Q,Z;T.parameters={...T.parameters,docs:{...(J=T.parameters)==null?void 0:J.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 1
  },
  decorators: [Story => <div className="w-80">
        <Story />
      </div>]
}`,...(Z=(Q=T.parameters)==null?void 0:Q.docs)==null?void 0:Z.source}}};var ee,te,re;B.parameters={...B.parameters,docs:{...(ee=B.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  render: () => <WithLabelComponent />
}`,...(re=(te=B.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};var oe,ne,se;K.parameters={...K.parameters,docs:{...(oe=K.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    defaultValue: [25, 75],
    max: 100,
    step: 1
  },
  decorators: [Story => <div className="w-80">
        <Story />
      </div>]
}`,...(se=(ne=K.parameters)==null?void 0:ne.docs)==null?void 0:se.source}}};var ae,ie,ce;k.parameters={...k.parameters,docs:{...(ae=k.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 1,
    disabled: true
  },
  decorators: [Story => <div className="w-80">
        <Story />
      </div>]
}`,...(ce=(ie=k.parameters)==null?void 0:ie.docs)==null?void 0:ce.source}}};var le,de,ue;L.parameters={...L.parameters,docs:{...(le=L.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 10
  },
  decorators: [Story => <div className="w-80">
        <Story />
      </div>]
}`,...(ue=(de=L.parameters)==null?void 0:de.docs)==null?void 0:ue.source}}};const xt=["Default","WithLabel","Range","Disabled","StepValues"];export{T as Default,k as Disabled,K as Range,L as StepValues,B as WithLabel,xt as __namedExportsOrder,gt as default};
