import{j as c}from"./jsx-runtime-DF2Pcvd1.js";import{r as i}from"./index-B2-qRKKC.js";import{u as S}from"./index-BFjtS4uE.js";import{c as G}from"./index-Az_bokXk.js";import{u as K}from"./index-BlCrtW8-.js";import{u as U}from"./index-_AbP6Uzr.js";import{u as X}from"./index-BYfY0yFj.js";import{P as $}from"./index-PNzqWif7.js";import{P as R}from"./index-Bnp5pWmS.js";import{c as w}from"./utils-CytzSlOG.js";import{C as J}from"./check-N6y005oe.js";function E(e,r,{checkForDefaultPrevented:s=!0}={}){return function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return r==null?void 0:r(o)}}var _="Checkbox",[Q]=G(_),[V,I]=Q(_);function W(e){const{__scopeCheckbox:r,checked:s,children:d,defaultChecked:o,disabled:t,form:p,name:m,onCheckedChange:u,required:b,value:k="on",internal_do_not_use_render:f}=e,[l,y]=K({prop:s,defaultProp:o??!1,onChange:u,caller:_}),[C,x]=i.useState(null),[v,n]=i.useState(null),a=i.useRef(!1),g=C?!!p||!!C.closest("form"):!0,P={checked:l,disabled:t,setChecked:y,control:C,setControl:x,name:m,form:p,value:k,hasConsumerStoppedPropagationRef:a,required:b,defaultChecked:h(o)?!1:o,isFormControl:g,bubbleInput:v,setBubbleInput:n};return c.jsx(V,{scope:r,...P,children:Y(f)?f(P):d})}var B="CheckboxTrigger",M=i.forwardRef(({__scopeCheckbox:e,onKeyDown:r,onClick:s,...d},o)=>{const{control:t,value:p,disabled:m,checked:u,required:b,setControl:k,setChecked:f,hasConsumerStoppedPropagationRef:l,isFormControl:y,bubbleInput:C}=I(B,e),x=S(o,k),v=i.useRef(u);return i.useEffect(()=>{const n=t==null?void 0:t.form;if(n){const a=()=>f(v.current);return n.addEventListener("reset",a),()=>n.removeEventListener("reset",a)}},[t,f]),c.jsx(R.button,{type:"button",role:"checkbox","aria-checked":h(u)?"mixed":u,"aria-required":b,"data-state":F(u),"data-disabled":m?"":void 0,disabled:m,value:p,...d,ref:x,onKeyDown:E(r,n=>{n.key==="Enter"&&n.preventDefault()}),onClick:E(s,n=>{f(a=>h(a)?!0:!a),C&&y&&(l.current=n.isPropagationStopped(),l.current||n.stopPropagation())})})});M.displayName=B;var j=i.forwardRef((e,r)=>{const{__scopeCheckbox:s,name:d,checked:o,defaultChecked:t,required:p,disabled:m,value:u,onCheckedChange:b,form:k,...f}=e;return c.jsx(W,{__scopeCheckbox:s,checked:o,defaultChecked:t,disabled:m,required:p,onCheckedChange:b,name:d,form:k,value:u,internal_do_not_use_render:({isFormControl:l})=>c.jsxs(c.Fragment,{children:[c.jsx(M,{...f,ref:r,__scopeCheckbox:s}),l&&c.jsx(D,{__scopeCheckbox:s})]})})});j.displayName=_;var T="CheckboxIndicator",q=i.forwardRef((e,r)=>{const{__scopeCheckbox:s,forceMount:d,...o}=e,t=I(T,s);return c.jsx($,{present:d||h(t.checked)||t.checked===!0,children:c.jsx(R.span,{"data-state":F(t.checked),"data-disabled":t.disabled?"":void 0,...o,ref:r,style:{pointerEvents:"none",...e.style}})})});q.displayName=T;var A="CheckboxBubbleInput",D=i.forwardRef(({__scopeCheckbox:e,...r},s)=>{const{control:d,hasConsumerStoppedPropagationRef:o,checked:t,defaultChecked:p,required:m,disabled:u,name:b,value:k,form:f,bubbleInput:l,setBubbleInput:y}=I(A,e),C=S(s,y),x=U(t),v=X(d);i.useEffect(()=>{const a=l;if(!a)return;const g=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(g,"checked").set,O=!o.current;if(x!==t&&N){const z=new Event("click",{bubbles:O});a.indeterminate=h(t),N.call(a,h(t)?!1:t),a.dispatchEvent(z)}},[l,x,t,o]);const n=i.useRef(h(t)?!1:t);return c.jsx(R.input,{type:"checkbox","aria-hidden":!0,defaultChecked:p??n.current,required:m,disabled:u,name:b,value:k,form:f,...r,tabIndex:-1,ref:C,style:{...r.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=A;function Y(e){return typeof e=="function"}function h(e){return e==="indeterminate"}function F(e){return h(e)?"indeterminate":e?"checked":"unchecked"}const L=i.forwardRef(({className:e,...r},s)=>c.jsx(j,{ref:s,className:w("peer h-6 w-6 shrink-0 border-2 border-primary bg-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground flex items-center justify-center",e),...r,children:c.jsx(q,{className:w("flex items-center justify-center text-current"),children:c.jsx(J,{className:"h-5 w-5"})})}));L.displayName=j.displayName;L.__docgenInfo={description:"",methods:[]};export{L as C};
